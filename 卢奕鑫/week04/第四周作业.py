Dict = {"经常": 0.1,
        "经": 0.05,
        "有": 0.1,
        "常": 0.001,
        "有意见": 0.1,
        "歧": 0.001,
        "意见": 0.2,
        "分歧": 0.2,
        "见": 0.05,
        "意": 0.05,
        "见分歧": 0.05,
        "分": 0.1}

sentence = "经常有意见分歧"


def all_cut(sentence, Dict):
    n = len(sentence)  # 句子长度
    result = []  # 存储所有切分结果

    def backtrack(start, path):
        # 若已切分到句子末尾，记录当前切分结果
        if start == n:
            result.append(path.copy())
            return
        # 尝试从start开始的所有可能长度的词语
        for end in range(start + 1, n + 1):
            word = sentence[start:end]  # 截取[start, end)的子串
            if word in Dict:  # 若子串是词典中的词
                path.append(word)  # 将该词加入当前路径
                backtrack(end, path)  # 递归处理剩余部分
                path.pop()  # 回溯：移除最后加入的词，尝试其他可能

    backtrack(0, [])  # 从索引0开始切分
    return result

#
# #
# target = [
#     ['经常', '有意见', '分歧'],
#     ['经常', '有意见', '分', '歧'],
#     ['经常', '有', '意见', '分歧'],
#     ['经常', '有', '意见', '分', '歧'],
#     ['经常', '有', '意', '见分歧'],
#     ['经常', '有', '意', '见', '分歧'],
#     ['经常', '有', '意', '见', '分', '歧'],
#     ['经', '常', '有意见', '分歧'],
#     ['经', '常', '有意见', '分', '歧'],
#     ['经', '常', '有', '意见', '分歧'],
#     ['经', '常', '有', '意见', '分', '歧'],
#     ['经', '常', '有', '意', '见分歧'],
#     ['经', '常', '有', '意', '见', '分歧'],
#     ['经', '常', '有', '意', '见', '分', '歧']
# ]


result = all_cut(sentence, Dict)

print(result)
