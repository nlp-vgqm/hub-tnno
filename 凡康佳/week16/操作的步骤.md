1. 安装步骤

1.1 下载与安装

1. 访问Neo4j官网（https://neo4j.com/download/）
2. 下载Neo4j Community Edition版本（社区版免费）
3. 按照安装向导完成安装，选择默认安装路径即可
4. 首次启动需要创建Neo4j账户（可使用邮箱免费注册）

1.2 数据库创建与配置

1. 打开Neo4j Desktop应用程序
2. 点击左上角"New Project"按钮创建新项目
3. 在项目中点击"Add Database" → 选择"Local DBMS"
4. 设置：
   • 数据库名称：可自定义（如MyFirstGraph）

   • 密码：首次需要设置密码（默认用户名为neo4j）

   • 版本：建议选择最新的稳定版

1.3 启动与连接

1. 在数据库卡片上点击"Start"按钮启动数据库服务
2. 等待状态指示灯变为绿色"Running"
3. 点击"Open"按钮打开Neo4j Browser（Web界面）
4. 首次连接需要修改密码：
   • 当前密码：neo4j

   • 新密码：建议设置易记的密码

   • 确认新密码

2. 示例数据库操作

2.1 创建电影示例数据库

在Neo4j Browser的查询框中执行以下Cypher语句：
// 清除现有数据（如果有）
MATCH (n) DETACH DELETE n;

// 创建演员节点
CREATE (keanu:Person {name:'Keanu Reeves', born:1964})
CREATE (carrie:Person {name:'Carrie-Anne Moss', born:1967})
CREATE (laurence:Person {name:'Laurence Fishburne', born:1961})
CREATE (tom:Person {name:'Tom Hanks', born:1956})

// 创建电影节点
CREATE (matrix:Movie {title:'The Matrix', released:1999, tagline:'Welcome to the Real World'})
CREATE (matrix2:Movie {title:'The Matrix Reloaded', released:2003})
CREATE (forrest:Movie {title:'Forrest Gump', released:1994})

// 创建演员-电影关系
CREATE (keanu)-[:ACTED_IN {roles:['Neo']}]->(matrix)
CREATE (keanu)-[:ACTED_IN {roles:['Neo']}]->(matrix2)
CREATE (carrie)-[:ACTED_IN {roles:['Trinity']}]->(matrix)
CREATE (carrie)-[:ACTED_IN {roles:['Trinity']}]->(matrix2)
CREATE (laurence)-[:ACTED_IN {roles:['Morpheus']}]->(matrix)
CREATE (tom)-[:ACTED_IN {roles:['Forrest Gump']}]->(forrest)


2.2 基础查询练习

2.2.1 查询所有电影

MATCH (m:Movie) 
RETURN m.title AS 电影名称, m.released AS 上映年份
ORDER BY m.released DESC


2.2.2 查询特定演员的电影

// 查询Keanu Reeves参演的电影
MATCH (p:Person {name:'Keanu Reeves'})-[:ACTED_IN]->(m:Movie)
RETURN p.name AS 演员, m.title AS 电影, m.released AS 年份


2.2.3 查询电影的所有演员

// 查询"The Matrix"的所有演员
MATCH (m:Movie {title:'The Matrix'})<-[:ACTED_IN]-(p:Person)
RETURN p.name AS 演员姓名, p.born AS 出生年份
ORDER BY p.name


2.2.4 查询演员的合作关系

// 查询与Carrie-Anne Moss合作过的演员
MATCH (carrie:Person {name:'Carrie-Anne Moss'})-[:ACTED_IN]->(movie)<-[:ACTED_IN]-(coactor)
WHERE carrie <> coactor
RETURN DISTINCT coactor.name AS 合作演员, movie.title AS 合作电影


2.3 使用内置示例数据库

1. 打开内置示例：
   • 在Neo4j Browser命令行中输入：:play movie-graph

   • 点击弹出卡片中的第一个查询并执行

2. 内置示例包含：
   • 完整的电影数据集

   • 预定义的查询示例

   • 可视化关系图展示

3. 尝试内置查询：
   // 示例：查询Tom Hanks参演的电影
   MATCH (tom:Person {name:'Tom Hanks'})-[:ACTED_IN]->(tomHanksMovies)
   RETURN tom, tomHanksMovies
   

2.4 数据可视化查看

1. 图形化显示结果：
   • 在执行查询后，点击"Graph"标签页

   • 节点会以不同颜色显示（人物、电影）

   • 关系线显示连接类型

2. 调整显示效果：
   • 可拖拽节点重新布局

   • 点击节点查看详细信息

   • 使用缩放功能查看大数据集

2.5 清理数据（实验结束前）

// 删除所有节点和关系
MATCH (n) DETACH DELETE n;

// 验证删除结果（应返回0）
MATCH (n) RETURN count(n) AS 剩余节点数;
